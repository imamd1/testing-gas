<!DOCTYPE html>
<html>
<head>
  <title>CRUD with Apps Script</title>
  <style>
    input { margin: 5px; }
  </style>
</head>
<body>
  <h2>CRUD Apps Script Demo</h2>

  <input type="text" id="id" placeholder="ID">
  <input type="text" id="name" placeholder="Name">
  <br>
  <button onclick="create()">Create</button>
  <button onclick="update()">Update</button>
  <button onclick="del()">Delete</button>
  <button onclick="read()">Read</button>

  <pre id="output"></pre>

  <script>
    const API_URL = 'https://script.google.com/macros/s/AKfycbxyz123/exec'; // ganti dengan URL Apps Script kamu

    function create() {
      const id = document.getElementById('id').value;
      const name = document.getElementById('name').value;
      fetch(API_URL + '?action=create', {
        method: 'POST',
        body: JSON.stringify({ id, name })
      }).then(res => res.json()).then(show);
    }

    function update() {
      const id = document.getElementById('id').value;
      const name = document.getElementById('name').value;
      fetch(API_URL + '?action=update', {
        method: 'POST',
        body: JSON.stringify({ id, name })
      }).then(res => res.json()).then(show);
    }

    function del() {
      const id = document.getElementById('id').value;
      fetch(API_URL + '?action=delete', {
        method: 'POST',
        body: JSON.stringify({ id })
      }).then(res => res.json()).then(show);
    }

    function read() {
      fetch(API_URL)
        .then(res => res.json())
        .then(data => {
          document.getElementById('output').textContent = JSON.stringify(data, null, 2);
        });
    }

    function show(response) {
      document.getElementById('output').textContent = JSON.stringify(response, null, 2);
    }
  </script>
</body>
</html>
